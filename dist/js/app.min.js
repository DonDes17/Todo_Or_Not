"use strict";function trash(){var t=this;this.parentNode.style.opacity=0;var e=this.parentNode.getAttribute("data-key");setTimeout(function(){t.parentNode.remove(),delete todoList[e],saveHTML()},600)}function check(){this.parentNode.classList.toggle("flip"),this.innerHTML="✔"===this.innerHTML?"🌀":"✔";var t=this.parentNode.getAttribute("data-key");todoList[t].checked=!todoList[t].checked,saveHTML()}function saveHTML(){window.localStorage.setItem("data",JSON.stringify(todoList))}function loadHTML(){if(window.localStorage.getItem("data")){var t=JSON.parse(window.localStorage.getItem("data"));todoList=t,Object.keys(todoList).map(function(t){return createHTML(todoList[t],t)})}}function createHTML(t,e){if(t.todo){var o="\n      <span>"+t.todo+'</span>\n      <button name="trash" class="trash">❌</button>\n      <button name="check" class="check">'+(t.checked?"🌀":"✔")+"</button>\n  ",i=document.createElement("li");i.classList.add("item",t.checked?"flip":null),i.setAttribute("data-key",e),i.innerHTML=o,listItems.insertBefore(i,listItems.firstChild),i.children.trash.onclick=trash,i.children.check.onclick=check}}function createItem(t){t.preventDefault();var e=Date.now();todoList[e]={todo:formInput.value,checked:!1},createHTML(todoList[e],e),saveHTML(),this.reset()}var todoForm=document.querySelector(".form"),formInput=document.querySelector(".input-field>input"),listItems=document.querySelector(".list-items"),todoList={};window.addEventListener("load",loadHTML),todoForm.addEventListener("submit",createItem);